<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Colin C.">
<meta name="dcterms.date" content="2024-04-07">
<meta name="description" content="PET scan results from yesterday indicate some battles won!">

<title>Sam Chisholm - Victories and challenges – we battle on</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
<link rel="stylesheet" href="../../timeline.css">
<link rel="stylesheet" href="../../custom.css">
<meta property="og:title" content="Sam Chisholm’s cancer journey">
<meta property="og:description" content="Regular updates on our lives as we journey with Sam in his journey battling cancer, including concerns and victories.">
<meta property="og:image" content="https://samsstory.s3.ca-central-1.amazonaws.com/chisholm-olivebeanphoto-9-cropped.jpg">
<meta property="og:site-name" content="Sam C. Updates">
<meta name="twitter:title" content="Sam Chisholm’s cancer journey">
<meta name="twitter:description" content="Regular updates on our lives as we journey with Sam in his journey battling cancer, including concerns and victories.">
<meta name="twitter:image" content="https://samsstory.s3.ca-central-1.amazonaws.com/chisholm-olivebeanphoto-9-cropped.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Sam Chisholm</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../timeline.html" rel="" target="">
 <span class="menu-text">Timeline</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../plan.html" rel="" target="">
 <span class="menu-text">The Plan</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contact.html" rel="" target="">
 <span class="menu-text">Contact Us</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#cancer-war" id="toc-cancer-war" class="nav-link active" data-scroll-target="#cancer-war">Cancer war</a>
  <ul class="collapse">
  <li><a href="#review" id="toc-review" class="nav-link" data-scroll-target="#review">Review</a></li>
  <li><a href="#pet-scan-results" id="toc-pet-scan-results" class="nav-link" data-scroll-target="#pet-scan-results">PET scan results</a></li>
  </ul></li>
  <li><a href="#living-life" id="toc-living-life" class="nav-link" data-scroll-target="#living-life">Living Life</a>
  <ul class="collapse">
  <li><a href="#friends-and-family" id="toc-friends-and-family" class="nav-link" data-scroll-target="#friends-and-family">Friends and Family</a></li>
  <li><a href="#tragedy" id="toc-tragedy" class="nav-link" data-scroll-target="#tragedy">Tragedy</a></li>
  </ul></li>
  <li><a href="#victories-and-concerns" id="toc-victories-and-concerns" class="nav-link" data-scroll-target="#victories-and-concerns">Victories and concerns</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Victories and challenges – we battle on</h1>
  <div class="quarto-categories">
    <div class="quarto-category">regular</div>
    <div class="quarto-category">new-sites</div>
    <div class="quarto-category">milestones</div>
  </div>
  </div>

<div>
  <div class="description">
    PET scan results from yesterday indicate some battles won!
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Colin C. </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 7, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
TL;DR <span class="small">Too long didn’t read (i.e.&nbsp;the short version)</span>
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>PET Scan with results this past Friday</li>
<li>Victories at several sites</li>
<li>Stability at the initial site</li>
<li>One new site under investigation</li>
</ul>
</div>
</div>
<section id="cancer-war" class="level2">
<h2 class="anchored" data-anchor-id="cancer-war">Cancer war</h2>
<p>Sam has summarized this the past two PET scans in the following way (paraphrased):</p>
<blockquote class="blockquote">
<p>The PET scan in February was like someone dumped a load of bricks on me.<br>
This last PET scan was like someone removed all the bricks but then threw a single one at me.</p>
</blockquote>
<p>Sam is great spirits. As the impacts of radiation therapy are behind him, and the effects of GVHD<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> are lessening he is seeing his energy return. Today he wants to go grocery shopping with me.</p>
<section id="review" class="level3">
<h3 class="anchored" data-anchor-id="review">Review</h3>
<p>The previous PET, back on Feb 14, provided really hard news. Following months of seeing a new immune system be established in Sam (Nov.&nbsp;- Feb) that imaging showed three new disease sites – it seemed that all of the previous efforts were for naught and that we were losing the cancer war. Despite all of the efforts of the BMT to establishing a new immune system, it did not seem to be effective at beating back the cancer.</p>
<p>Since the discovery of the new sites Sam has received immunotherapy (via the drug Nivomulab) as well as targeted radiation treatment to the new disease centers. The radiation therapy was straight forward and ended a couple weeks ago. With the immune therapy Sam was only able to have a single dose of the Nivomulab which triggered more GVHD<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> than he had seen during his BMT<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. Although this GVHD was not physically comfortable (e.g.&nbsp;hot rashes, GI<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> effects) it was mentally comforting – if the immune system was attacking healthy tissue it meant that it was most likely also attacking the cancer. Most recently, the immune system started getting dangerously out of control by stressing Sam’s liver. In response, he was started on some steroids to put the brakes on his immune system and bring it back in-check.</p>
<p>This sets the stage for the PET scan this past Friday (April 5).</p>
</section>
<section id="pet-scan-results" class="level3">
<h3 class="anchored" data-anchor-id="pet-scan-results">PET scan results</h3>
<p><em>April 5<sup>th</sup> scan</em></p>
<section id="radiated-sites" class="level4">
<h4 class="anchored" data-anchor-id="radiated-sites">Radiated sites</h4>
<p>We have clear wins! No cancer was detectable in the three sites discovered back in Feb.&nbsp;The cancer in his T3 vertebrae, hip, and shin has been wiped out by the radiation therapy.</p>
</section>
<section id="central-mass" class="level4">
<h4 class="anchored" data-anchor-id="central-mass">Central mass</h4>
<p>The mass in the center of Sam’s chest, the one that brought us down here to start with, is stable. There is increased metabolic activity in the area but it remains the same size as previous – and potentially a little smaller. What is exciting about this is that the only thing keeping this site in-check would have been Sam’s immune system. The fact that this site is stable suggests that the immune system is able to battle whatever cancer is still in this area.</p>
</section>
<section id="challenges" class="level4">
<h4 class="anchored" data-anchor-id="challenges">Challenges</h4>
<p>A single new site has been located. The new site is located in Sam’s liver. For now we have to assume that this is new disease site (i.e.&nbsp;the same type of cancer in a new location). However, it is possible that is something else. The liver is a big organ, one that is hard to do surgery on, but this new site is superficial (near the surface) just below Sam’s lower rib on the right side. Given where this site is we are hoping that a biopsy can be completed this coming week.</p>
</section>
</section>
</section>
<section id="living-life" class="level2">
<h2 class="anchored" data-anchor-id="living-life">Living Life</h2>
<section id="friends-and-family" class="level3">
<h3 class="anchored" data-anchor-id="friends-and-family">Friends and Family</h3>
<p>Although not planned this way it was great to have my parents visit this weekend. Initial scheduling of the PET scan was not until next week. I am glad they were here to be with us – PET scans are often stressful. Nana Mary, Uncles Kevin and Cal were also able to come in the afternoon that we received the PET scan results.</p>
<p>Yesterday, Tina and I were able to visit with Brian, Beth, David, and Luke. A definitely highlight from that visit was seeing Sam have energy to talk with his friend!</p>
</section>
<section id="tragedy" class="level3">
<h3 class="anchored" data-anchor-id="tragedy">Tragedy</h3>
<p>Yesterday’s visits were filled with joy. But the day was also filled with sorrow. Our hearts break for R, and her whole family, as her daughter Dani passed away in the early morning. Dani had fought hard.</p>
</section>
</section>
<section id="victories-and-concerns" class="level2">
<h2 class="anchored" data-anchor-id="victories-and-concerns">Victories and concerns</h2>
<ul>
<li><p>Thankful that three disease centers have been removed. Thanksful that the original central mass is stable. We battle on to determine what the latest site is and how best to attack it.</p></li>
<li><p>Thankful that Sam’s energy has increased!</p></li>
<li><p>Thankful that Sam’s pain levels have been stable and generally easy to manage.</p></li>
<li><p>The new immunotherapy drugs seems to have released Sam’s immune system to hit harder. As the immune system was starting to get out of control brakes have been applied to slow the immune system back down. It is good to know that the chemical brakes work, at the same time we do not what to suppress the immune system too long as it is the main method of battling the cancer.</p></li>
<li><p>We mourn the loss of Dani – grieving in solidarity with her family.</p></li>
<li><p>We are thankful to the medical team here at <a href="http://www.bcchildrens.ca">BC Childrens’ Hospital</a> who have explained things incredibly well and who have worked professionally and confidently. Your clear communication, compassion, and medical care give us great confidence.</p></li>
<li><p>We are thankful for the gift of a place to stay so close to where Sam is receiving his care. The <a href="https://rmhbc.ca">Ronald McDonald House (RMH)</a> has provided us a home away from home. This place is an amazing example of charity at work.</p></li>
<li><p>Thankful for friends who have chosen to meet regularly to pray for Sam. If you would like to join them talk with Beth H., Krista C., or contact the <a href="https://westwoodchurch.bc.ca">Westwood Church</a> office.</p></li>
<li><p>The cancer remains and has spread to new areas in Sam’s body. The sites are a mass in the center of his chest (the original), and newer sites in his back (T3 vertebrae), his hip (right ilium), and left shin (tibia just below the knee).</p></li>
<li><p>We long for the day when Sam is clear of this disease.</p></li>
</ul>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Graft versus host disease<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Graft versus host disease<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Bone marrow transplant<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>gastrointestinal<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Copyright 2024 Colin Chisholm</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>